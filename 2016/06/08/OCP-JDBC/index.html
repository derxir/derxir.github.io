<!DOCTYPE html><html lang="null"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>OCP-JDBC | Justin Yue</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/pure-min.css"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">OCP-JDBC</h1><a id="logo" href="/.">Justin Yue</a><p class="description">Being towards death</p></div><div id="nav-menu"><a href="/." class="current"><i class="icon-home"> 首页</i></a><a href="/archives/"><i class="icon-archive"> 归档</i></a><a href="/about/"><i class="icon-about"> 关于</i></a><a href="/atom.xml"><i class="icon-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post post-page"><h1 class="post-title">OCP-JDBC</h1><div class="post-meta">2016-06-08 | </div><span data-disqus-identifier="2016/06/08/OCP-JDBC/" class="disqus-comment-count"></span><div class="post-content"><p>FilteredRowSet extends CachedRowSet and is therefore a disconnected RowSet<br><a href="http://docs.oracle.com/javase/7/docs/api/javax/sql/rowset/Predicate.html" target="_blank" rel="external">http://docs.oracle.com/javase/7/docs/api/javax/sql/rowset/Predicate.html</a><br>All RowSets are updatable even if they are disconnected. In case of an update, disconnected RowSets update their cached data. The updates are persisted to the database by calling acceptChanges(databaseConnection) on the RowSet instance.<br>all RowSet provides a JavaBean view of the result set.</p>
<p>Starting JDBC 4.0, the JDBC Driver class is not required to be loaded explicitly in the code any more.</p>
<p>Column names used as input to getter methods are case insensitive. When a getter method is called with a column name and several columns have the same name, the value of the first matching column will be returned.</p>
<p>If the ResultSet object that you are iterating is closed, you will get an exception saying:<br>Exception in thread “main” java.sql.SQLException: ResultSet not open.<br>In this case, although we are not closing the ResultSet directly, we are closing the Statement object from which the ResultSet was retrieved and when a Statement object is closed, its current ResultSet object, if one exists, is also closed.</p>
<p>Predicate</p>
<p>JDBC driver implementation must provide impl classes of java.sql.Driver, java.sql.Connection, java.sql.Statement, java.sql.ResultSet</p>
<p>The SavePoint feature of JDBC is tailor made for this purpose. At the end of each step, the process can create a save point. Later on, when the process encounters the special condition, it can roll back the transaction up to any of the previous save point and continue from there, instead of rolling back the whole transaction and losing all the values. For example,  connection.setAutoCommit(false); stmt.executeUpdate(“update student set status=1”); \1 SavePoint savePoint1 = connection.setSavePoint(“step1done”); stmt.executeUpdate(“update student set gpa=4.0”); \2 if(special condition){   connection.rollback(savePoint1); } connection.commit(); //query 1 will be committed but query 2 will not be committed.</p>
<p>All RowSet objects are by default scrollable and updatable. If the driver and database being used do not support scrolling and/or updating of result sets, an application can populate a JdbcRowSet object with the data of a ResultSet object and then operate on the JdbcRowSet object as if it were the ResultSet object.</p>
<p>A CallableStatement is easier to build and call from JDBC code than a PreparedStatement.</p>
<p>All RowSets are JavaBean compliant. While you may extend JdbcRowSet, you should not make it Serializable because a JdbcRowSet is a connected RowSet and so it maintains a connection to the database which cannot be serialized.</p>
<p>int executeUpdate() –&gt; DDL<br>executeQuery() –&gt; DML, if execute DDL will throw sqlexception</p>
<p>first close statement, then close connection, or use try-with-resource which implements autocloseable </p>
<p>return value of executeUpdate(Insert, update, DELETE) is the number of rows deleted<br>column index in resultSet is 1-based</p>
</div><div class="tags"><a href="/tags/Java/">Java</a></div><div class="post-nav"><a href="/2016/06/08/OCP-Locale/" class="pre"><i class="icon-previous">OCP-Locale</i></a><a href="/2016/06/08/OCP-String-Processing/" class="next">OCP-String Processing<i class="icon-next"></i></a></div><div id="disqus_thread"><script>var disqus_shortname = 'derxir';
var disqus_identifier = '2016/06/08/OCP-JDBC/';
var disqus_title = 'OCP-JDBC';
var disqus_url = 'http://jiaweiyue.com/2016/06/08/OCP-JDBC/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//derxir.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search" class="search-form-input"/><input type="hidden" name="sitesearch" value="http://jiaweiyue.com"/></form></div><div class="widget"><div class="widget-title">分类</div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/写给自己/">写给自己</a></li></ul></div><div class="widget"><div class="widget-title">标签</div><div class="tagcloud"><a href="/tags/music/" style="font-size: 15px;">music</a> <a href="/tags/work/" style="font-size: 15px;">work</a> <a href="/tags/阅读笔记/" style="font-size: 15px;">阅读笔记</a> <a href="/tags/diary/" style="font-size: 15px;">diary</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Coding/" style="font-size: 15px;">Coding</a></div></div><div class="widget"><div class="widget-title">最新文章</div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/12/12/post/">post</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/08/Functional-Programming/">Functional Programming</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/08/OCP-Class-Design/">OCP-Class Design</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/08/OCP-Exception/">OCP-Exception</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/08/OCP-Concurrency/">OCP-Concurrency</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/08/OCP-Collection/">OCP-Collection</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/08/OCP-Locale/">OCP-Locale</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/08/OCP-JDBC/">OCP-JDBC</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/08/OCP-String-Processing/">OCP-String Processing</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/30/Thread/">Thread</a></li></ul></div><div class="widget"><div class="widget-title">最近评论</div><script type="text/javascript" src="//derxir.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title">友情链接</div><ul></ul><a href="null" title="null" target="_blank"></a></div></div></div></div><div id="footer">© <a href="/." rel="nofollow">Justin Yue.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div><a id="rocket" href="#top" class="show"></a><script src="/js/jquery.min.js" type="text/javascript"></script>
<script src="/js/totop.js" type="text/javascript"></script><script src="/js/fancybox.pack.js" type="text/javascript"></script>
<script src="/js/jquery.fancybox.js" type="text/javascript"></script><link rel="stylesheet" href="/css/jquery.fancybox.css" type="text/css"></div></body></html>